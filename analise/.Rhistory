plot.title = element_text(size=14),
theme(legend.title=element_blank())) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
pp2 <- read_ci %>%
ggplot(aes(x = coef, ymin = X2.5., ymax = X97.5., color = coef)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
subtitle = "Estimativa considerando todas as notícias de 2018",
x = "",
y = "") +
theme_bw() +
theme(legend.text=element_text(size=14),
axis.text=element_text(size=14),
plot.title = element_text(size=14),
legend.title=element_blank()) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggsave("pp2.png", width = 6, height = 4)
pp2 <- read_ci %>%
ggplot(aes(x = coef, ymin = X2.5., ymax = X97.5., color = coef)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
subtitle = "Estimativa considerando todas as notícias de 2018",
x = "",
y = "") +
theme_bw() +
theme(legend.text=element_text(size=14),
axis.text=element_text(size=14),
plot.title = element_text(size=14),
legend.title=element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggsave("pp2.png", width = 6, height = 4)
pp1 <- subj_ci %>%
ggplot(aes(x = jornal, ymin = X2.5., ymax = X97.5., color = jornal)) +
geom_errorbar(width = .4) +
labs(title = "Percentual de subjetividade por portal",
subtitle = "Estimativa de subjetividade considerando todas as notícias de 2018",
x = "",
y = "") +
scale_y_continuous(labels = scales::percent) +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=14)
)
ggsave("pp1.png", width = 6, height = 4)
estadao_len <- readabilityMetrics %>%
filter(jornal == "estadao") %>%
bootstrap(cor(bias_news, words, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
folha_len <- readabilityMetrics %>%
filter(jornal == "folha") %>%
bootstrap(cor(bias_news, words, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
oantagonista_len <- readabilityMetrics %>%
filter(jornal == "oantagonista") %>%
bootstrap(cor(bias_news, words, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
oglobo_len <- readabilityMetrics %>%
filter(jornal == "oglobo") %>%
bootstrap(cor(bias_news, words, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
veja_len <- readabilityMetrics %>%
filter(jornal == "veja") %>%
bootstrap(cor(bias_news, words, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
subj_len = data.frame(rbind(estadao_len, folha_len, oantagonista_len, oglobo_len, veja_len))
subj_len$portal = c("estadao", "folha", "oantagonista", "oglobo", "veja")
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14))
ggsave("pp3.png", width = 6, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14))
ggsave("pp3.png", width = 6, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=18))
ggsave("pp3.png", width = 6, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=14)
)
ggsave("pp3.png", width = 6, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp3.png", width = 6, height = 4)
pp2 <- read_ci %>%
ggplot(aes(x = coef, ymin = X2.5., ymax = X97.5., color = coef)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
#subtitle = "Estimativa considerando todas as notícias de 2018",
x = "",
y = "") +
theme_bw() +
theme(legend.text=element_text(size=14),
axis.text=element_text(size=14),
plot.title = element_text(size=18),
legend.title=element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggsave("pp2.png", width = 6, height = 4)
pp1 <- subj_ci %>%
ggplot(aes(x = jornal, ymin = X2.5., ymax = X97.5., color = jornal)) +
geom_errorbar(width = .4) +
labs(title = "Percentual de subjetividade por portal",
#subtitle = "Estimativa de subjetividade considerando todas as notícias de 2018",
x = "",
y = "") +
scale_y_continuous(labels = scales::percent) +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp1.png", width = 6, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre  subjetividade e tamanho da notícia",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp3.png", width = 6, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre  subjetividade e tamanho da notícia",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp3.png", width = 8, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre  subjetividade e tamanho da notícia",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp3.png", width = 6.5, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre  subjetividade e tamanho da notícia",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp3.png", width = 6.3, height = 4)
metaData <- read_csv(here::here("data/meta_data.csv")) %>%
filter(text_size <= 1000 & number_comments <= 1000) # remove outliers
metaData <- merge(x = news, y = metaData, all = TRUE) %>%
mutate(bias_news = (1 - (arg + sen + val + pre + mod) / 5) * 100) %>% filter(!is.na(jornal), !is.na(number_comments))
estadao_pop <- metaData %>%
filter(jornal == "estadao" | jornal == "oglobo") %>%
bootstrap(cor(bias_news, number_comments, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
folha_pop <- metaData %>%
filter(jornal == "folha" | jornal == "oglobo") %>%
bootstrap(cor(bias_news, number_comments, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
oantagonista_pop <- metaData %>%
filter(jornal == "oantagonista") %>%
bootstrap(cor(bias_news, number_comments, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
oglobo_pop <- metaData %>%
filter(jornal == "oglobo") %>%
bootstrap(cor(bias_news, number_comments, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
veja_pop <- metaData %>%
filter(jornal == "veja") %>%
bootstrap(cor(bias_news, number_comments, method = "spearman"),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
bias_pop = data.frame(rbind(estadao_pop, folha_pop, oantagonista_pop, oglobo_pop, veja_pop))
bias_pop$portal = c("estadao", "folha", "oantagonista", "oglobo", "veja")
pp4 <- bias_pop %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color=portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação tamanho da notícia e popularidade",
#subtitle = "Correlação entre o tamanho da notícia e sua popularidade",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)) +
scale_y_continuous(limits = c(0, .1))
ggsave("fig5.pdf", width = 6, height = 4)
pp4 <- bias_pop %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color=portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação tamanho da notícia e popularidade",
#subtitle = "Correlação entre o tamanho da notícia e sua popularidade",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)) +
scale_y_continuous(limits = c(0, .1))
ggsave("pp4.png", width = 6, height = 4)
pp4 <- bias_pop %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color=portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação tamanho da notícia e popularidade",
#subtitle = "Correlação entre o tamanho da notícia e sua popularidade",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)) +
scale_y_continuous(limits = c(0, .1))
ggsave("pp4.png", width = 6, height = 4)
pp4 <- bias_pop %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color=portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e popularidade",
#subtitle = "Correlação entre o tamanho da notícia e sua popularidade",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)) +
scale_y_continuous(limits = c(0, .1))
ggsave("pp4.png", width = 6, height = 4)
pp1 <- subj_ci %>%
ggplot(aes(x = jornal, ymin = X2.5., ymax = X97.5., color = jornal)) +
geom_errorbar(width = .4) +
labs(title = "Percentual de subjetividade por portal",
#subtitle = "Estimativa de subjetividade considerando todas as notícias de 2018",
x = "",
y = "") +
scale_y_continuous(labels = scales::percent) +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp1.png", width = 6, height = 4)
pp2 <- read_ci %>%
ggplot(aes(x = coef, ymin = X2.5., ymax = X97.5., color = coef)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e legibilidade",
#subtitle = "Estimativa considerando todas as notícias de 2018",
x = "",
y = "") +
theme_bw() +
theme(legend.text=element_text(size=14),
axis.text=element_text(size=14),
plot.title = element_text(size=18),
legend.title=element_blank(),
axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
ggsave("pp2.png", width = 6, height = 4)
ggarrange(pp1, pp2,
labels = c("A", "B"),
ncol = 2)
ggsave("fig2-3.pdf", width = 12, height = 4)
pp3 <- subj_len %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color = portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre  subjetividade e tamanho da notícia",
#subtitle = "Estimativa de correlação entre subjetividade e legibilidade considerando um ano de coleta",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none", axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
ggsave("pp3.png", width = 6.3, height = 4)
pp4 <- bias_pop %>%
ggplot(aes(x = portal, ymin = X2.5., ymax = X97.5., color=portal)) +
geom_errorbar(width = .4) +
labs(title = "Relação entre subjetividade e popularidade",
#subtitle = "Correlação entre o tamanho da notícia e sua popularidade",
x = "",
y = "") +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)) +
scale_y_continuous(limits = c(0, .1))
ggsave("pp4.png", width = 6, height = 4)
options(warn=-1) # ignore warns
require(GGally, quietly = TRUE)
require(reshape2, quietly = TRUE)
require(tidyverse, quietly = TRUE, warn.conflicts = FALSE)
library(ggfortify)
library(cluster)
library(broom)
library(tidyverse)
library(plotly)
library(resample)
library(lubridate)
library(ggpubr)
library(here)
#carta_capital <- read_csv(here::here("data/carta_capital.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
estadao <- read_csv(here::here("data/estadao.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0) %>% filter(section %in% c("brasil", "economia", "internacional", "mundo", "opiniao", "politica"))
folha <- read_csv(here::here("data/folha.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0) %>% filter(section %in% c("brasil", "economia", "internacional", "mundo", "opiniao", "politica"))
oantagonista <- read_csv(here::here("data/oantagonista.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0) %>% filter(section %in% c("brasil", "economia", "internacional", "mundo", "opiniao", "politica"))
oglobo <- read_csv(here::here("data/oglobo.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0) %>% filter(section %in% c("brasil", "economia", "internacional", "mundo", "opiniao", "politica"))
veja <- read_csv(here::here("data/veja.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0) %>% filter(section %in% c("brasil", "economia", "internacional", "mundo", "opiniao", "politica"))
news <-bind_rows(
#"carta_capital" = carta_capital,
"estadao" = estadao,
"folha" = folha,
"oantagonista" = oantagonista,
"oglobo" = oglobo,
"veja" = veja,
.id = "jornal")
readabilityMetrics <- read_csv(here::here("data/readability_metrics.csv"))
readabilityMetrics <- merge(x = readabilityMetrics, y = news, all = TRUE) %>% filter(!is.na(jornal))
coleman <- readabilityMetrics %>%
group_by(jornal) %>%
summarise(readabilityM = mean(coleman_liau_index))
smog <- readabilityMetrics %>%
group_by(jornal) %>%
summarise(readabilityM = mean(smog_index))
lix <- readabilityMetrics %>%
group_by(jornal) %>%
summarise(readabilityM = mean(lix_index))
dale <- readabilityMetrics %>%
group_by(jornal) %>%
summarise(readabilityM = mean(dale_chall_score))
read_portal <-bind_rows(
"coleman index" = coleman,
"smog index" = smog,
"lix index" = lix,
"dale chall score" = dale,
.id = "readability_metric")
read_portal %>%
ggplot(aes(x=jornal, y=readabilityM, fill = jornal)) +
geom_bar(stat="identity", color = "black", alpha = 8/10) +
labs(title = "Legibilidade dos portais",
subtitle = "Estimativa de legibilidade por portal",
x = "",
y = "") +
facet_wrap( ~readability_metric, scales = "free") +
theme(legend.position="bottom", legend.box = "horizontal", legend.title = element_blank(),
axis.text.x=element_blank(),
axis.ticks.x = element_blank(), panel.background = element_blank())
ggsave("fig1.pdf", width = 6, height = 4)
options(warn=-1) # ignore warns
require(GGally, quietly = TRUE)
require(reshape2, quietly = TRUE)
require(tidyverse, quietly = TRUE, warn.conflicts = FALSE)
library(ggfortify)
library(cluster)
library(broom)
library(tidyverse)
library(plotly)
library(resample)
library(lubridate)
library(ggpubr)
library(here)
#carta_capital <- read_csv(here::here("data/carta_capital.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
estadao <- read_csv(here::here("data/estadao.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
folha <- read_csv(here::here("data/folha.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
oantagonista <- read_csv(here::here("data/oantagonista.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
oglobo <- read_csv(here::here("data/oglobo.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
veja <- read_csv(here::here("data/veja.csv")) %>% filter(arg >= 0, sen >= 0, val >= 0, pre >= 0, mod >= 0)
news <-bind_rows(
#"carta_capital" = carta_capital,
"estadao" = estadao,
"folha" = folha,
"oantagonista" = oantagonista,
"oglobo" = oglobo,
"veja" = veja,
.id = "jornal")
biasNews <- news %>%
mutate(bias_news = (1 - (arg + sen + val + pre + mod) / 5)) %>%
select(jornal, url, bias_news)
resamples = 2000
subj_estadao <- biasNews %>%
filter(jornal == "estadao") %>%
bootstrap(median(bias_news),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
subj_folha <- biasNews %>%
filter(jornal == "folha") %>%
bootstrap(median(bias_news),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
subj_oantagonista <- biasNews %>%
filter(jornal == "oantagonista") %>%
bootstrap(median(bias_news),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
subj_oglobo <- biasNews %>%
group_by(jornal == "oglobo") %>%
bootstrap(median(bias_news),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
subj_veja <- biasNews %>%
group_by(jornal == "veja") %>%
bootstrap(median(bias_news),
R = resamples) %>%
CI.percentile(probs = c(.025, .975))
subj_ci = data.frame(rbind(subj_estadao, subj_folha, subj_oantagonista, subj_oglobo, subj_veja))
subj_ci$jornal = c("estadao", "folha", "oantagonista", "oglobo", "veja")
pp1 <- subj_ci %>%
ggplot(aes(x = jornal, ymin = X2.5., ymax = X97.5., color = jornal)) +
geom_errorbar(width = .4) +
labs(title = "Percentual de subjetividade por portal",
#subtitle = "Estimativa de subjetividade considerando todas as notícias de 2018",
x = "",
y = "") +
scale_y_continuous(labels = scales::percent) +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
#ggsave("pp1.png", width = 6, height = 4)
qp1 <- subj_ci %>%
ggplot(aes(x = jornal, ymin = X2.5., ymax = X97.5., color = jornal)) +
geom_errorbar(width = .4) +
labs(title = "Percentual de subjetividade por portal",
#subtitle = "Estimativa de subjetividade considerando todas as notícias de 2018",
x = "",
y = "") +
scale_y_continuous(labels = scales::percent) +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
qp1.show()
qp1 <- subj_ci %>%
ggplot(aes(x = jornal, ymin = X2.5., ymax = X97.5., color = jornal)) +
geom_errorbar(width = .4) +
labs(title = "Percentual de subjetividade por portal",
#subtitle = "Estimativa de subjetividade considerando todas as notícias de 2018",
x = "",
y = "") +
scale_y_continuous(labels = scales::percent) +
theme_bw() +
theme(legend.position="none",
axis.text=element_text(size=14),
plot.title = element_text(size=18)
)
qp1
#ggsave("pp1.png", width = 6, height = 4)
